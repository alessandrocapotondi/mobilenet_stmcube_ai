Analyzing model 
Neural Network Tools for STM32 v1.0.0 (AI tools v4.0.0) 
-- Importing model 
....... 
-- Importing model - done (elapsed time 6.328s) 
-- Rendering model 
-- Rendering model - done (elapsed time 0.108s) 
 
Creating report file C:\Users\Alessandro Capotondi\STM32Cube\Repository\Packs\STMicroelectronics\X-CUBE-AI\4.0.0\Utilities\windows\stm32ai_output\network_analyze_report.txt 
 
Exec/report summary (analyze 6.441s err=0) 
------------------------------------------------------------------------------------------------------------------------ 
model file      : C:\Users\Alessandro Capotondi\workspace\workbench\mobilenet_cubemx_ai\keras_model\mobilenet_128_0_25.h5 
type            : keras (keras_dump) 
c_name          : network 
compression     : None 
quantize        : None 
L2r error       : NOT EVALUATED 
workspace dir   : C:\Users\ALESSA~1\AppData\Local\Temp\mxAI_workspace714441707393005951302413525348015 
output dir      : C:\Users\Alessandro Capotondi\STM32Cube\Repository\Packs\STMicroelectronics\X-CUBE-AI\4.0.0\Utilities\windows\stm32ai_output 
 
model_name      : mobilenet_128_0_25 
model_hash      : 35ae6a7b66552cf07dbc4cf2642b4e8f 
input           : input_3 (item#=49,152, size=192.00 KiB, fmt=FLOAT32) 
input (total)   : 192.00 KiB 
output          : conv_preds (item#=1,000, size=3.91 KiB, fmt=FLOAT32) 
output (total)  : 3.91 KiB 
params #        : 470,072 (1.79 MiB) 
macc            : 12,648,912 
rom (ro)        : 1,869,344 (1.78 MiB) -0.58% 
ram (rw)        : 393,216 + 200,608 (384.00 KiB + 195.91 KiB) 
 
------------------------------------------------------------------------------------------------------------------------ 
id  layer (type)                      output shape      param #     connected to             macc           rom                 
------------------------------------------------------------------------------------------------------------------------ 
0   input_3 (Input)                   (128, 128, 3)                                                                             
------------------------------------------------------------------------------------------------------------------------ 
1   conv1_pad (Pad)                   (129, 129, 3)                 input_3                                                     
------------------------------------------------------------------------------------------------------------------------ 
2   conv1 (Conv2D)                    (64, 64, 8)       216         conv1_pad                917,512        896                 
------------------------------------------------------------------------------------------------------------------------ 
3   conv1_bn (ScaleBias)              (64, 64, 8)       16          conv1                                                       
------------------------------------------------------------------------------------------------------------------------ 
4   conv1_relu (Nonlinearity)         (64, 64, 8)                   conv1_bn                                                    
------------------------------------------------------------------------------------------------------------------------ 
5   conv_dw_1 (Conv2D)                (64, 64, 8)       72          conv1_relu               69,640         320                 
------------------------------------------------------------------------------------------------------------------------ 
6   conv_dw_1_bn (ScaleBias)          (64, 64, 8)       16          conv_dw_1                                                   
------------------------------------------------------------------------------------------------------------------------ 
7   conv_dw_1_relu (Nonlinearity)     (64, 64, 8)                   conv_dw_1_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
8   conv_pw_1 (Conv2D)                (64, 64, 16)      128         conv_dw_1_relu           589,840        576                 
------------------------------------------------------------------------------------------------------------------------ 
9   conv_pw_1_bn (ScaleBias)          (64, 64, 16)      32          conv_pw_1                                                   
------------------------------------------------------------------------------------------------------------------------ 
10  conv_pw_1_relu (Nonlinearity)     (64, 64, 16)                  conv_pw_1_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
11  conv_pad_2 (Pad)                  (65, 65, 16)                  conv_pw_1_relu                                              
------------------------------------------------------------------------------------------------------------------------ 
12  conv_dw_2 (Conv2D)                (32, 32, 16)      144         conv_pad_2               25,616         640                 
------------------------------------------------------------------------------------------------------------------------ 
13  conv_dw_2_bn (ScaleBias)          (32, 32, 16)      32          conv_dw_2                                                   
------------------------------------------------------------------------------------------------------------------------ 
14  conv_dw_2_relu (Nonlinearity)     (32, 32, 16)                  conv_dw_2_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
15  conv_pw_2 (Conv2D)                (32, 32, 32)      512         conv_dw_2_relu           557,088        2,176               
------------------------------------------------------------------------------------------------------------------------ 
16  conv_pw_2_bn (ScaleBias)          (32, 32, 32)      64          conv_pw_2                                                   
------------------------------------------------------------------------------------------------------------------------ 
17  conv_pw_2_relu (Nonlinearity)     (32, 32, 32)                  conv_pw_2_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
18  conv_dw_3 (Conv2D)                (32, 32, 32)      288         conv_pw_2_relu           42,016         1,280               
------------------------------------------------------------------------------------------------------------------------ 
19  conv_dw_3_bn (ScaleBias)          (32, 32, 32)      64          conv_dw_3                                                   
------------------------------------------------------------------------------------------------------------------------ 
20  conv_dw_3_relu (Nonlinearity)     (32, 32, 32)                  conv_dw_3_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
21  conv_pw_3 (Conv2D)                (32, 32, 32)      1,024       conv_dw_3_relu           1,081,376      4,224               
------------------------------------------------------------------------------------------------------------------------ 
22  conv_pw_3_bn (ScaleBias)          (32, 32, 32)      64          conv_pw_3                                                   
------------------------------------------------------------------------------------------------------------------------ 
23  conv_pw_3_relu (Nonlinearity)     (32, 32, 32)                  conv_pw_3_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
24  conv_pad_4 (Pad)                  (33, 33, 32)                  conv_pw_3_relu                                              
------------------------------------------------------------------------------------------------------------------------ 
25  conv_dw_4 (Conv2D)                (16, 16, 32)      288         conv_pad_4               10,528         1,280               
------------------------------------------------------------------------------------------------------------------------ 
26  conv_dw_4_bn (ScaleBias)          (16, 16, 32)      64          conv_dw_4                                                   
------------------------------------------------------------------------------------------------------------------------ 
27  conv_dw_4_relu (Nonlinearity)     (16, 16, 32)                  conv_dw_4_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
28  conv_pw_4 (Conv2D)                (16, 16, 64)      2,048       conv_dw_4_relu           540,736        8,448               
------------------------------------------------------------------------------------------------------------------------ 
29  conv_pw_4_bn (ScaleBias)          (16, 16, 64)      128         conv_pw_4                                                   
------------------------------------------------------------------------------------------------------------------------ 
30  conv_pw_4_relu (Nonlinearity)     (16, 16, 64)                  conv_pw_4_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
31  conv_dw_5 (Conv2D)                (16, 16, 64)      576         conv_pw_4_relu           18,752         2,560               
------------------------------------------------------------------------------------------------------------------------ 
32  conv_dw_5_bn (ScaleBias)          (16, 16, 64)      128         conv_dw_5                                                   
------------------------------------------------------------------------------------------------------------------------ 
33  conv_dw_5_relu (Nonlinearity)     (16, 16, 64)                  conv_dw_5_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
34  conv_pw_5 (Conv2D)                (16, 16, 64)      4,096       conv_dw_5_relu           1,065,024      16,640              
------------------------------------------------------------------------------------------------------------------------ 
35  conv_pw_5_bn (ScaleBias)          (16, 16, 64)      128         conv_pw_5                                                   
------------------------------------------------------------------------------------------------------------------------ 
36  conv_pw_5_relu (Nonlinearity)     (16, 16, 64)                  conv_pw_5_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
37  conv_pad_6 (Pad)                  (17, 17, 64)                  conv_pw_5_relu                                              
------------------------------------------------------------------------------------------------------------------------ 
38  conv_dw_6 (Conv2D)                (8, 8, 64)        576         conv_pad_6               4,736          2,560               
------------------------------------------------------------------------------------------------------------------------ 
39  conv_dw_6_bn (ScaleBias)          (8, 8, 64)        128         conv_dw_6                                                   
------------------------------------------------------------------------------------------------------------------------ 
40  conv_dw_6_relu (Nonlinearity)     (8, 8, 64)                    conv_dw_6_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
41  conv_pw_6 (Conv2D)                (8, 8, 128)       8,192       conv_dw_6_relu           532,608        33,280              
------------------------------------------------------------------------------------------------------------------------ 
42  conv_pw_6_bn (ScaleBias)          (8, 8, 128)       256         conv_pw_6                                                   
------------------------------------------------------------------------------------------------------------------------ 
43  conv_pw_6_relu (Nonlinearity)     (8, 8, 128)                   conv_pw_6_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
44  conv_dw_7 (Conv2D)                (8, 8, 128)       1,152       conv_pw_6_relu           8,896          5,120               
------------------------------------------------------------------------------------------------------------------------ 
45  conv_dw_7_bn (ScaleBias)          (8, 8, 128)       256         conv_dw_7                                                   
------------------------------------------------------------------------------------------------------------------------ 
46  conv_dw_7_relu (Nonlinearity)     (8, 8, 128)                   conv_dw_7_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
47  conv_pw_7 (Conv2D)                (8, 8, 128)       16,384      conv_dw_7_relu           1,056,896      66,048              
------------------------------------------------------------------------------------------------------------------------ 
48  conv_pw_7_bn (ScaleBias)          (8, 8, 128)       256         conv_pw_7                                                   
------------------------------------------------------------------------------------------------------------------------ 
49  conv_pw_7_relu (Nonlinearity)     (8, 8, 128)                   conv_pw_7_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
50  conv_dw_8 (Conv2D)                (8, 8, 128)       1,152       conv_pw_7_relu           8,896          5,120               
------------------------------------------------------------------------------------------------------------------------ 
51  conv_dw_8_bn (ScaleBias)          (8, 8, 128)       256         conv_dw_8                                                   
------------------------------------------------------------------------------------------------------------------------ 
52  conv_dw_8_relu (Nonlinearity)     (8, 8, 128)                   conv_dw_8_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
53  conv_pw_8 (Conv2D)                (8, 8, 128)       16,384      conv_dw_8_relu           1,056,896      66,048              
------------------------------------------------------------------------------------------------------------------------ 
54  conv_pw_8_bn (ScaleBias)          (8, 8, 128)       256         conv_pw_8                                                   
------------------------------------------------------------------------------------------------------------------------ 
55  conv_pw_8_relu (Nonlinearity)     (8, 8, 128)                   conv_pw_8_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
56  conv_dw_9 (Conv2D)                (8, 8, 128)       1,152       conv_pw_8_relu           8,896          5,120               
------------------------------------------------------------------------------------------------------------------------ 
57  conv_dw_9_bn (ScaleBias)          (8, 8, 128)       256         conv_dw_9                                                   
------------------------------------------------------------------------------------------------------------------------ 
58  conv_dw_9_relu (Nonlinearity)     (8, 8, 128)                   conv_dw_9_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
59  conv_pw_9 (Conv2D)                (8, 8, 128)       16,384      conv_dw_9_relu           1,056,896      66,048              
------------------------------------------------------------------------------------------------------------------------ 
60  conv_pw_9_bn (ScaleBias)          (8, 8, 128)       256         conv_pw_9                                                   
------------------------------------------------------------------------------------------------------------------------ 
61  conv_pw_9_relu (Nonlinearity)     (8, 8, 128)                   conv_pw_9_bn                                                
------------------------------------------------------------------------------------------------------------------------ 
62  conv_dw_10 (Conv2D)               (8, 8, 128)       1,152       conv_pw_9_relu           8,896          5,120               
------------------------------------------------------------------------------------------------------------------------ 
63  conv_dw_10_bn (ScaleBias)         (8, 8, 128)       256         conv_dw_10                                                  
------------------------------------------------------------------------------------------------------------------------ 
64  conv_dw_10_relu (Nonlinearity)    (8, 8, 128)                   conv_dw_10_bn                                               
------------------------------------------------------------------------------------------------------------------------ 
65  conv_pw_10 (Conv2D)               (8, 8, 128)       16,384      conv_dw_10_relu          1,056,896      66,048              
------------------------------------------------------------------------------------------------------------------------ 
66  conv_pw_10_bn (ScaleBias)         (8, 8, 128)       256         conv_pw_10                                                  
------------------------------------------------------------------------------------------------------------------------ 
67  conv_pw_10_relu (Nonlinearity)    (8, 8, 128)                   conv_pw_10_bn                                               
------------------------------------------------------------------------------------------------------------------------ 
68  conv_dw_11 (Conv2D)               (8, 8, 128)       1,152       conv_pw_10_relu          8,896          5,120               
------------------------------------------------------------------------------------------------------------------------ 
69  conv_dw_11_bn (ScaleBias)         (8, 8, 128)       256         conv_dw_11                                                  
------------------------------------------------------------------------------------------------------------------------ 
70  conv_dw_11_relu (Nonlinearity)    (8, 8, 128)                   conv_dw_11_bn                                               
------------------------------------------------------------------------------------------------------------------------ 
71  conv_pw_11 (Conv2D)               (8, 8, 128)       16,384      conv_dw_11_relu          1,056,896      66,048              
------------------------------------------------------------------------------------------------------------------------ 
72  conv_pw_11_bn (ScaleBias)         (8, 8, 128)       256         conv_pw_11                                                  
------------------------------------------------------------------------------------------------------------------------ 
73  conv_pw_11_relu (Nonlinearity)    (8, 8, 128)                   conv_pw_11_bn                                               
------------------------------------------------------------------------------------------------------------------------ 
74  conv_pad_12 (Pad)                 (9, 9, 128)                   conv_pw_11_relu                                             
------------------------------------------------------------------------------------------------------------------------ 
75  conv_dw_12 (Conv2D)               (4, 4, 128)       1,152       conv_pad_12              2,320          5,120               
------------------------------------------------------------------------------------------------------------------------ 
76  conv_dw_12_bn (ScaleBias)         (4, 4, 128)       256         conv_dw_12                                                  
------------------------------------------------------------------------------------------------------------------------ 
77  conv_dw_12_relu (Nonlinearity)    (4, 4, 128)                   conv_dw_12_bn                                               
------------------------------------------------------------------------------------------------------------------------ 
78  conv_pw_12 (Conv2D)               (4, 4, 256)       32,768      conv_dw_12_relu          528,640        132,096             
------------------------------------------------------------------------------------------------------------------------ 
79  conv_pw_12_bn (ScaleBias)         (4, 4, 256)       512         conv_pw_12                                                  
------------------------------------------------------------------------------------------------------------------------ 
80  conv_pw_12_relu (Nonlinearity)    (4, 4, 256)                   conv_pw_12_bn                                               
------------------------------------------------------------------------------------------------------------------------ 
81  conv_dw_13 (Conv2D)               (4, 4, 256)       2,304       conv_pw_12_relu          4,496          10,240              
------------------------------------------------------------------------------------------------------------------------ 
82  conv_dw_13_bn (ScaleBias)         (4, 4, 256)       512         conv_dw_13                                                  
------------------------------------------------------------------------------------------------------------------------ 
83  conv_dw_13_relu (Nonlinearity)    (4, 4, 256)                   conv_dw_13_bn                                               
------------------------------------------------------------------------------------------------------------------------ 
84  conv_pw_13 (Conv2D)               (4, 4, 256)       65,536      conv_dw_13_relu          1,057,024      263,168             
------------------------------------------------------------------------------------------------------------------------ 
85  conv_pw_13_bn (ScaleBias)         (4, 4, 256)       512         conv_pw_13                                                  
------------------------------------------------------------------------------------------------------------------------ 
86  conv_pw_13_relu (Nonlinearity)    (4, 4, 256)                   conv_pw_13_bn                                               
------------------------------------------------------------------------------------------------------------------------ 
87  global_average_pooling2d_3 (Pool) (1, 1, 256)                   conv_pw_13_relu                                             
------------------------------------------------------------------------------------------------------------------------ 
88  reshape_1 (Reshape)               (1, 1, 256)                   global_average_pooling2d                                    
------------------------------------------------------------------------------------------------------------------------ 
90  conv_preds (Conv2D)               (1, 1, 1000)      257,000     reshape_1                272,000        1,028,000           
------------------------------------------------------------------------------------------------------------------------ 
91  act_softmax (Nonlinearity)        (1, 1, 1000)                  conv_preds                                                  
------------------------------------------------------------------------------------------------------------------------ 
92  reshape_2 (Reshape)               (1000,)                       act_softmax                                                 
------------------------------------------------------------------------------------------------------------------------ 
mobilenet_128_0_25 p=470072(1.79 MBytes) macc=12648912 rom=1.78 MBytes ram=384.00 KBytes -0.58% 
 
  
Complexity by layer - macc=12,648,912 rom=1,869,344 
------------------------------------------------------------------------------------------------------------------------ 
id      layer (type)                      macc                                    rom                                     
------------------------------------------------------------------------------------------------------------------------ 
2       conv1 (Conv2D)                    ||||||||||||||||||||||||||        7.3%  |                                 0.0%  
5       conv_dw_1 (Conv2D)                ||                                0.6%  |                                 0.0%  
8       conv_pw_1 (Conv2D)                |||||||||||||||||                 4.7%  |                                 0.0%  
12      conv_dw_2 (Conv2D)                |                                 0.2%  |                                 0.0%  
15      conv_pw_2 (Conv2D)                ||||||||||||||||                  4.4%  |                                 0.1%  
18      conv_dw_3 (Conv2D)                ||                                0.3%  |                                 0.1%  
21      conv_pw_3 (Conv2D)                |||||||||||||||||||||||||||||||   8.5%  |                                 0.2%  
25      conv_dw_4 (Conv2D)                |                                 0.1%  |                                 0.1%  
28      conv_pw_4 (Conv2D)                ||||||||||||||||                  4.3%  |                                 0.5%  
31      conv_dw_5 (Conv2D)                |                                 0.1%  |                                 0.1%  
34      conv_pw_5 (Conv2D)                ||||||||||||||||||||||||||||||    8.4%  |                                 0.9%  
38      conv_dw_6 (Conv2D)                |                                 0.0%  |                                 0.1%  
41      conv_pw_6 (Conv2D)                |||||||||||||||                   4.2%  |                                 1.8%  
44      conv_dw_7 (Conv2D)                |                                 0.1%  |                                 0.3%  
47      conv_pw_7 (Conv2D)                ||||||||||||||||||||||||||||||    8.4%  ||                                3.5%  
50      conv_dw_8 (Conv2D)                |                                 0.1%  |                                 0.3%  
53      conv_pw_8 (Conv2D)                ||||||||||||||||||||||||||||||    8.4%  ||                                3.5%  
56      conv_dw_9 (Conv2D)                |                                 0.1%  |                                 0.3%  
59      conv_pw_9 (Conv2D)                ||||||||||||||||||||||||||||||    8.4%  ||                                3.5%  
62      conv_dw_10 (Conv2D)               |                                 0.1%  |                                 0.3%  
65      conv_pw_10 (Conv2D)               ||||||||||||||||||||||||||||||    8.4%  ||                                3.5%  
68      conv_dw_11 (Conv2D)               |                                 0.1%  |                                 0.3%  
71      conv_pw_11 (Conv2D)               ||||||||||||||||||||||||||||||    8.4%  ||                                3.5%  
75      conv_dw_12 (Conv2D)               |                                 0.0%  |                                 0.3%  
78      conv_pw_12 (Conv2D)               |||||||||||||||                   4.2%  ||||                              7.1%  
81      conv_dw_13 (Conv2D)               |                                 0.0%  |                                 0.5%  
84      conv_pw_13 (Conv2D)               ||||||||||||||||||||||||||||||    8.4%  ||||||||                         14.1%  
90      conv_preds (Conv2D)               ||||||||                          2.2%  |||||||||||||||||||||||||||||||  55.0%  
------------------------------------------------------------------------------------------------------------------------ 
 
Using TensorFlow backend. 
Analyze complete on AI model